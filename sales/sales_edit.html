<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <link rel="icon" href="/assets/images/favicon.ico" />
        <script>
            const absolutePath = "file:///android_asset/gui";
            const appendAbsolutePath = 0;
            const serverUrl = "http://localhost:9000/";
        </script>
        <script src="/assets/js/init-page.js"></script>
    </head>

    <body id="body" class="bg-my-light vh-100 d-flex flex-column">
        <!--    <script src="/assets/js/header.js"></script>-->

        <div class="container">
            <!-- page content -->

            <nav aria-label="breadcrumb text-dark">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="sales_home.html" class="text-dark"
                            ><i class="fas fa-shopping-cart mr-2 mt-1"></i
                            >Sales</a
                        >
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">
                        Edit
                    </li>
                </ol>
            </nav>

            <form id="supplierAddForm" class="row g-3 needs-validation">
                <div class="row g-2 mb-2">
                    <div class="col-md-8">
                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="d-flex">
                                    <div class="me-auto">Supplier</div>
                                    <div class="">
                                        <button
                                            type="button"
                                            class="btn btn-outline-primary btn-sm"
                                            onclick="searchSupplier()"
                                        >
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                    <div class="ml-1">
                                        <button
                                            type="button"
                                            class="btn btn-outline-primary btn-sm"
                                            onclick="addNewSupplier()"
                                        >
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <dl class="row">
                                    <dt class="col-md-2">Id</dt>
                                    <dd class="col-md-4">
                                        <div id="supplierId">
                                            Please select a supplier
                                        </div>
                                    </dd>
                                    <dt class="col-md-2">Company</dt>
                                    <dd class="col-md-4">
                                        <div id="supplierCompany">
                                            Please select a supplier
                                        </div>
                                    </dd>
                                    <dt class="col-md-2">Name</dt>
                                    <dd class="col-md-4">
                                        <div id="supplierName">
                                            Please select a supplier
                                        </div>
                                    </dd>
                                    <dt class="col-md-2">City</dt>
                                    <dd class="col-md-4">
                                        <div id="supplierCity">
                                            Please select a supplier
                                        </div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <div class="d-flex">
                                    <div class="me-auto">Item</div>
                                    <div class="">
                                        <button
                                            type="button"
                                            class="btn btn-outline-primary btn-sm"
                                        >
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row g-2 mb-2">
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="text"
                                                id="itemName"
                                                class="form-control form-control-sm"
                                                placeholder="company"
                                                required
                                            />
                                            <label for="itemName">Name</label>
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="text"
                                                id="itemBarcode"
                                                class="form-control"
                                                placeholder="name"
                                                required
                                            />
                                            <label for="itemBarcode"
                                                >Barcode</label
                                            >
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row g-2 mb-2">
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="number"
                                                min="1"
                                                id="itemQuantity"
                                                class="form-control form-control-sm"
                                                placeholder="Quantity"
                                                required
                                            />
                                            <label for="itemQuantity"
                                                >Quantity</label
                                            >
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="number"
                                                min="1"
                                                id="itemPurchasePrice"
                                                class="form-control"
                                                placeholder="name"
                                                required
                                            />
                                            <label for="itemPurchasePrice"
                                                >Purchase Price</label
                                            >
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row g-2 mb-2">
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="text"
                                                id="itemNotes"
                                                class="form-control form-control-sm"
                                                placeholder="company"
                                                required
                                            />
                                            <label for="itemNotes">Notes</label>
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm">
                                        <div class="form-floating">
                                            <input
                                                type="number"
                                                min="1"
                                                id="itemSellingPrice"
                                                class="form-control"
                                                placeholder="name"
                                                required
                                            />

                                            <label for="itemSellingPrice"
                                                >Selling Price</label
                                            >
                                            <div class="invalid-feedback">
                                                Invalid field.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="d-grid gap-2 col-6 mx-auto mt-0 mb-3"
                                >
                                    <a
                                        id="btnAdd"
                                        onclick="addItem();"
                                        class="btn btn-primary shadow mt-3"
                                        ><i class="fas fa-plus mr-2"></i>Add</a
                                    >
                                </div>
                            </div>
                        </div>
                        <!-- items panel -->

                        <!-- end items panel -->
                    </div>
                    <div id="summaryPanel" class="col-md-4 d-none">
                        <!-- Start summary panel -->
                        <div class="card">
                            <div class="card-header">
                                <div class="d-flex">
                                    <div
                                        id="selectedSupplierName"
                                        class="me-auto"
                                    >
                                        Name:
                                    </div>
                                    <div id="selectedSupplierCompany" class="">
                                        Company:
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div
                                    class="accordion accordion-flush"
                                    id="accordionItems"
                                ></div>
                            </div>
                            <div class="card-footer">
                                <div class="d-flex">
                                    <div id="totalPurchase"></div>
                                </div>
                            </div>
                        </div>
                        <div class="d-grid">
                            <a
                                id="btnAdd"
                                onclick="save();"
                                class="btn btn-primary shadow mt-3"
                                ><i class="fas fa-save mr-2"></i>Save</a
                            >
                        </div>

                        <!-- end summary panel -->
                    </div>
                </div>

                <div class="d-flex justify-content-center p-0 m-0">
                    <div
                        id="myToast"
                        class="toast d-flex align-items-center bg-danger text-white"
                        role="alert"
                        aria-live="assertive"
                        aria-atomic="true"
                    >
                        <div id="myToastBody" class="toast-body"></div>
                        <button
                            type="button"
                            class="btn-close btn-close-white ms-auto me-2"
                            data-bs-dismiss="toast"
                            aria-label="Close"
                        ></button>
                    </div>
                </div>
            </form>
        </div>

        <!--    <script src="/assets/js/footer.js"></script>-->
        <script>
            //      window.addEventListener("load", function () {
            //      });
            var purchaseScript = [
                "/assets/js/pos-api/supplier/supplier.js",
                "/assets/js/pos-api/item/item.js",
                "/assets/js/pos-api/purchase/purchase.js",
                "/assets/js/pos-api/purchase/purchase.edit.js",
            ];
            generateScript(purchaseScript);
        </script>
    </body>
</html>
